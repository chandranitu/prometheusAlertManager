--install go language
sudo apt install golang-go

--install prometheus

--install node exporter
  wget https://github.com/prometheus/node_exporter/releases/download/v0.16.0-rc.1/node_exporter-0.16.0-rc.1.linux-amd64.tar.gz

--install prometheus alert manager
	https://github.com/prometheus/alertmanager
        
        In release section download alertmanager-0.20.0.darwin-386.tar.gz
        Extract file and keep in directory like /home/kalka/alertmanager-0.20.0.darwin-386

        sudo mv alertmanager /usr/local/bin/
	sudo mv node_exporter /usr/local/bin/

-- make a directory alertmanager and make file alertmanager.yml
  /home/kalka/alertmanager/alertmanager.yml
 


-- setup alertmanager service and node exporter
 /home/kalka/prometheusAlertManager/alertmanager.service 
/home/kalka/prometheusAlertManager/node_exporter.service 


sudo cp alertmanager.service /etc/systemd/system
sudo cp node_exporter.service /etc/systemd/system


-- check prometheus.yml file in etc/prometheus and insert alerting context and rules file 
/etc/prometheus/prometheus.yml
sudo cp alert_rules.yml /etc/prometheus/

#/var/lib/prometheus

-- go to prometheus browser -> status->targets
   node and prometheus is up and running
 
--start alert manager service

	systemctl daemon-reload
        systemctl start alertmanager
	systemctl stop alertmanager
        systemctl status alertmanager
	systemctl enable alertmanager

--testing
 now down node exporter a alert message should send on gmail
 systemctl start node_exporter

systemctl status prometheus
systemctl stop prometheus


